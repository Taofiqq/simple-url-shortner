<!DOCTYPE html>
<html lang="en">
    <head>
        <title>URL Shortener</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
        <!-- Bootstrap css for styling -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    </head>
    <body>
      <div class="container">

          <!-- application title -->
          <h1>Url Shortener</h1>
    
          <!-- Form for user to input their links to be shortened -->
          <form action="/shortUrls" method="POST" class="my-4 form-inline">
              <label for="longUrl" class="sr only">Input your Url</label>
              <input required type="url" name="longUrl" id="longUrl" placeholder="Enter your URL" class="form-control col mr-2 ">
              <!-- button to submit -->
              <button type="submit" class="btn btn-success mt-2">Shorten</button>
          </form>
  
  
          <!-- output the shortened version of the extended link-->
          <table class="table table-striped table-responsive">
              <thead>
                  <tr>
                      <th>Full Url</th>
                      <th>Shortened Url</th>
                      <th>Number of clicks</th>
                  </tr>
              </thead>
  
              <tbody>
                  <!-- loop through each URLS -->
                  <% shortUrls.forEach(shortUrl => { %>

                    <tr>
                        <td>
                            <a href="<%- shortUrl.full %>">
                            <%- shortUrl.full %> 
                            </a>
                        </td>
    
                        <td><a href="<%- shortUrl.short %> "><%- shortUrl.short %></a></td>
    
                        <td><%- shortUrl.clicks %> </td>
                    </tr>
                  <% }) %> 
                  
              </tbody>
          </table>
      </div>
    </body>
</html>